# Title
title: miRNA-Seq Analysis QC Report
subtitle: Summary of data processing steps and sequencing quality
intro_text: ""

# Details
report_comment: ""
report_header_info:
  - Generated by:: SGT Bioinformatics
  - Contact:: sequencing@duke.edu

# Logo
custom_logo: config/duke-som-horiz.png
custom_logo_url: https://medschool.duke.edu/research/research-support/core-facilities-service-centers/find-service-center/sequencing-and
custom_logo_title: Sequencing and Genomic Technologies

# Remove some extras
show_analysis_time: false
show_analysis_paths: false
skip_versions_section: true
disable_version_detection: true
use_filename_as_sample_name: true

# Force interactive
interactive: true

# Ignore common file patterns
fn_clean_exts:
  - ".fastq.gz"
  - ".bam"
  - ".log"

remove_section:
  - umitools_extract_regex_barplot
  - umicollapse_mature_stats_violin_table
  - umicollapse_hairpin_stats_violin_table

# bowtie and umicollapse per dataset
top_modules:
  - umicollapse:
      name: "Mature deduplication"
      anchor: "umicollapse_mature"
      info: "Removal of duplicated reads using UMIs"
      path_filters:
        - "*-mature.log"
  - bowtie1:
      name: "Mature alignment"
      anchor: "bowtie_mature"
      info: "Mature alignment rates"
      path_filters:
        - "*-mature.log"
  - umicollapse:
      name: "Hairpin deduplication"
      anchor: "umicollapse_hairpin"
      info: "Removal of duplicated reads using UMIs"
      path_filters:
        - "*-hairpin.log"
  - bowtie1:
      name: "Hairpin alignment"
      info: "Hairpin alignment rates after mapping to mature miRNAs"
      anchor: "bowtie_hairpin"
      path_filters:
        - "*-hairpin.log"

table_columns_name:
  mature_deduplication-dedup_output_reads: Unique Mature Reads
  mature_deduplication-dedup_percent_passing: Unique Mature Reads %
  hairpin_deduplication-dedup_output_reads: Unique Hairpin Reads
  hairpin_deduplication-dedup_percent_passing: Unique Hairpin Reads %
  mature_alignment-reads_aligned: Mature Aligned
  mature_alignment-reads_aligned_percentage: Mature Aligned %
  hairpin_alignment-reads_aligned: Hairpin Aligned
  hairpin_alignment-reads_aligned_percentage: Hairpin Aligned %

table_columns_visible:
  fastp:
    fastp-after_filtering_gc_content: false
    fastp-pct_duplication: false
    fastp-pct_surviving: false
  UMI-tools:
    umi_tools-extract_output_reads: false
    umi_tools-extract_output_reads: false

table_sample_merge:
  "mature miRNA": "-mature"
  "hairpin": "-hairpin"

